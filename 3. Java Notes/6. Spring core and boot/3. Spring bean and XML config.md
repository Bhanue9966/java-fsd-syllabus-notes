# ⚙️ Spring Core and Boot

## 3\. Spring Bean XML Configuration

### 1\. The Role of `applicationContext.xml`

Before the introduction of Java-based configuration, Spring beans were primarily defined in XML files, typically named `applicationContext.xml`. This file serves as the **blueprint** for the IoC Container, instructing it on:

1.  Which classes to manage (beans).
2.  How to create them (constructor arguments).
3.  How to manage their dependencies (Dependency Injection).

### 2\. Defining Beans in XML

Every bean is defined using the `<bean>` tag within the XML file.

| Attribute | Description | Java Annotation Equivalent |
| :--- | :--- | :--- |
| **`id`** | A unique name (identifier) for the bean in the container. | The value provided to `@Component("id")` |
| **`class`** | The fully qualified name of the Java class to instantiate. | The class itself, placed after `@Component` |

```xml
<bean id="laptop" class="com.telusko.Laptop" />
```

### 3\. Dependency Injection in XML

Dependencies are injected into the target bean using nested tags within the `<bean>` definition:

#### A. Setter Injection (`<property>`)

This is the most common form of XML injection. It relies on the presence of a public setter method in the dependent class.

  * **Mechanism:** Uses the `name` attribute (which corresponds to the property name, e.g., `setLaptop` maps to `name="laptop"`).
  * **Reference:** The `ref` attribute points to the `id` of the dependency bean.

<!-- end list -->

```xml
<!-- Alien needs a Laptop -->
<bean id="alien" class="com.telusko.Alien">
    <!-- Calls setLaptop(Laptop l) -->
    <property name="laptop" ref="laptop" /> 
</bean>
```

#### B. Constructor Injection (`<constructor-arg>`)

This injects dependencies through the class's constructor.

  * **Mechanism:** Uses `name`, `index`, or `type` to match the constructor argument.
  * **Reference:** The `ref` attribute points to the dependency bean's `id`.

<!-- end list -->

```xml
<!-- Alien has constructor: Alien(int aid, String name) -->
<bean id="alien" class="com.telusko.Alien">
    <constructor-arg name="aid" value="10" />
    <constructor-arg name="name" value="XML Guy" />
</bean>
```

### 4\. Application Context Loading

To load the XML definitions, we use the `ClassPathXmlApplicationContext`.

```java
// Loads the beans defined in the applicationContext.xml file
ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");
```

-----

Here are the files demonstrating XML configuration:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- 1. Define the Dependency Bean (Laptop) -->
    <bean id="laptop" class="com.telusko.Laptop">
        <!-- Injecting primitive values using the 'value' attribute -->
        <property name="lid" value="2001" />
        <property name="brand" value="XPS" />
    </bean>

    <!-- 2. Define the Dependent Bean (Alien) -->
    <bean id="alien" class="com.telusko.Alien">
        
        <!-- Injecting dependency (Laptop) using setter injection -->
        <!-- This calls the setLaptop() method on the Alien class -->
        <property name="laptop" ref="laptop" />
        
        <!-- Injecting primitive values for aid and name -->
        <property name="aid" value="42" />
        <property name="name" value="XML Guy" />
    </bean>

</beans>
```

We have successfully demonstrated how to define and wire beans using the traditional XML configuration method.

