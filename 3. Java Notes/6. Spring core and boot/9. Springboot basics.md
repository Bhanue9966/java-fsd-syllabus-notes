# ‚öôÔ∏è 6. Spring Core and Boot

## 09-springboot-basics.md

### üöÄ Introduction to Spring Boot

Spring Boot is an extension of the Spring framework that aims to simplify the bootstrapping and development of new Spring applications. It is designed to get applications up and running with minimal configuration and effort.

#### The Three Core Goals of Spring Boot

1.  **Reduce Configuration:** Eliminate the need for complex XML and boilerplate Java configuration.
2.  **Opinionated Defaults:** Provide sensible, auto-configured defaults for common frameworks (e.g., automatically configuring an embedded Tomcat server, an in-memory database, or a standard logging setup).
3.  **Standalone Applications:** Easily create production-ready Spring applications that can run on their own (as a single executable JAR file).

-----

### 1\. Key Spring Boot Features

| Feature | Description |
| :--- | :--- |
| **Auto-Configuration** | Spring Boot attempts to automatically configure your Spring application based on the JAR dependencies you have added to your project. |
| **Starters** | A set of convenient dependency descriptors that you can include in your build (e.g., `spring-boot-starter-web` brings in Spring MVC, Tomcat, JSON libraries, etc.). |
| **Embedded Servers** | Automatically configures and runs a server (like Tomcat, Jetty, or Undertow) directly within the application's executable JAR. No separate web server installation is required. |
| **Actuator** | Provides production-ready features like monitoring, metrics, and health checks for your running application. |

-----

### 2\. The Spring Boot Application Structure

A typical Spring Boot application has a very simple and standard structure.

#### The Main Class (`@SpringBootApplication`)

The entry point for every Spring Boot application is a class containing the `main` method. This class must be annotated with `@SpringBootApplication`.

**`src/main/java/com/example/demo/MySpringBootApplication.java`**

```java
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

// This is the core annotation that bundles three key features:
@SpringBootApplication 
public class MySpringBootApplication {

    public static void main(String[] args) {
        // This is the static method that launches the Spring application.
        SpringApplication.run(MySpringBootApplication.class, args);
    }
    
    /* * Key Annotations contained within @SpringBootApplication:
     * 1. @Configuration: Tags the class as a source of bean definitions.
     * 2. @EnableAutoConfiguration: Tells Spring Boot to start adding beans 
     * based on classpath settings (the "magic" of Boot).
     * 3. @ComponentScan: Enables component scanning on the package where 
     * this class is defined (and all its sub-packages).
     */
}
```

-----

### 3\. Understanding Auto-Configuration (`@EnableAutoConfiguration`)

This is the most powerful feature of Spring Boot. It significantly reduces the need for explicit bean definitions.

#### How It Works: Conditional Configuration

Spring Boot uses the `@Conditional` mechanism heavily. It checks the classpath and environment to decide which configuration classes to enable.

1.  **Check Dependencies:** Spring Boot scans the classpath for specific classes.
2.  **Apply Defaults:** If a specific class is found, Spring Boot automatically configures the relevant component.

| Scenario | Dependency Check | Auto-Configuration Result |
| :--- | :--- | :--- |
| **Web App** | `tomcat-embed-core` is present. | Configures an embedded **Tomcat** server and a **Dispatcher Servlet**. |
| **JPA** | `spring-data-jpa` and an H2/MySQL driver are present. | Configures an **`EntityManagerFactory`** and a **`DataSource`**. |
| **Thymeleaf** | `thymeleaf-spring5` is present. | Configures a **`ThymeleafViewResolver`** for web views. |

-----

### 4\. Starter Dependencies

Starter dependencies are dependency descriptors that bundle all the required transitive dependencies for a specific functional area. They simplify the Maven/Gradle build configuration.

#### Example: Building a Web Application

Instead of manually adding: `spring-web`, `spring-webmvc`, `jackson-databind` (for JSON), and `tomcat-embed-core`, you just add one starter:

| Starter Dependency | Functionality Included |
| :--- | :--- |
| `spring-boot-starter-web` | Full stack for building web applications (Spring MVC, REST, embedded Tomcat, Jackson). |
| `spring-boot-starter-data-jpa` | Spring Data JPA and Hibernate for persistence. |
| `spring-boot-starter-test` | Testing utilities for unit and integration testing (JUnit, Mockito, Spring Test). |

#### Maven (`pom.xml`) Example

```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter</artifactId>
    </dependency>

    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>

    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-jpa</artifactId>
    </dependency>
    <dependency>
        <groupId>com.h2database</groupId>
        <artifactId>h2</artifactId>
        <scope>runtime</scope>
    </dependency>

    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-test</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>
```

-----

### 5\. Quick Example: Creating a REST Controller

With Spring Boot, a basic REST endpoint requires minimal code:

**`src/main/java/com/example/demo/HelloController.java`**

```java
package com.example.demo;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController // Combination of @Controller and @ResponseBody
public class HelloController {

    @GetMapping("/hello")
    public String sayHello() {
        return "Hello, Spring Boot!"; // Returns this String directly as the HTTP response body
    }
}
```

When you run `MySpringBootApplication.java`, Spring Boot:

1.  Detects `spring-boot-starter-web`.
2.  Starts the embedded Tomcat on port **8080** (default).
3.  Scans the `com.example.demo` package (due to `@ComponentScan` in `@SpringBootApplication`).
4.  Finds `HelloController` and registers the `/hello` endpoint.

Accessing `http://localhost:8080/hello` will return the text "Hello, Spring Boot\!".

-----
