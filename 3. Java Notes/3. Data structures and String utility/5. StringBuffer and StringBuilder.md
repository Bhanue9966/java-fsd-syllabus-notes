# üõ†Ô∏è Data Structures, Strings, and Utility

## 5\. StringBuffer and StringBuilder

While the `String` class is excellent for storing fixed text, its **immutability** makes it inefficient for operations that involve frequent modification (like concatenation within a loop). Each modification creates a new object, consuming extra memory and time.

**`StringBuffer`** and **`StringBuilder`** are classes that represent **mutable** (changeable) sequences of characters, designed for efficient text manipulation.

### 1\. Key Differences and Mutability

| Feature | `String` | `StringBuffer` | `StringBuilder` |
| :--- | :--- | :--- | :--- |
| **Mutability** | **Immutable** (Content cannot change) | **Mutable** (Content can be changed) | **Mutable** (Content can be changed) |
| **Performance**| Slow for concatenation/modification | Slower than `StringBuilder` | **Fastest** for single-threaded operations |
| **Thread Safety**| Thread-Safe (due to immutability) | **Thread-Safe** (Methods are synchronized) | **Not Thread-Safe** (Not synchronized) |
| **When to Use** | For constant, unchanging text. | For strings modified by **multiple** threads. | For strings modified by a **single** thread (most common). |

### 2\. Mutability in Action

When you modify a `StringBuffer` or `StringBuilder`, the operation happens on the **same object** in memory, reducing the overhead of creating numerous temporary objects.

```java
// Example of efficiency
StringBuilder sb = new StringBuilder("Start"); 
System.out.println(sb.hashCode()); // Example Hash: 8632128
sb.append(" and End"); 
// The string changes, but the object reference (and hash code) remains the same.
System.out.println(sb.hashCode()); // Same Hash: 8632128
System.out.println(sb);            // Output: Start and End
```

### 3\. Core Methods

Both `StringBuffer` and `StringBuilder` share the same set of methods for text manipulation:

| Method | Description | Example | Result (Original object modified) |
| :--- | :--- | :--- | :--- |
| **`append(str)`** | Adds the string to the end. | `sb.append("x")` | `sb` becomes `"Startx"` |
| **`insert(index, str)`** | Inserts the string at the specified position. | `sb.insert(1, "B")` | `sb` becomes `"SBart"` |
| **`replace(s, e, str)`**| Replaces characters from start index (s) to end index (e-1).| `sb.replace(0, 1, "R")`| `sb` becomes `"Rtart"` |
| **`delete(s, e)`** | Deletes characters from start index (s) to end index (e-1). | `sb.delete(2, 5)` | `sb` becomes `"St"` |
| **`reverse()`** | Reverses the sequence of characters. | `sb.reverse()` | `sb` becomes `"tratS"` |

### 4\. Conversion to `String`

Since most Java APIs (especially method return types and logging) expect a final immutable `String`, you must convert the mutable object back to a `String` when done:

```java
StringBuilder builder = new StringBuilder("Data");
builder.append(" Processed");

// Convert back to the immutable String object
String result = builder.toString(); 
// A final String object is created and returned.
```

