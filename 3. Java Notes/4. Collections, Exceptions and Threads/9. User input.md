# üîó Collections, Exceptions, Concurrency

## 9\. User Input (Scanner and BufferedReader)

User input is fundamental for interactive command-line programs. Java provides several ways to read input from the console (`System.in`), with **`Scanner`** being the easiest and **`BufferedReader`** being the more traditional, low-level method.

### 1\. The `Scanner` Class (Easy Tokenized Input) üí°

The `Scanner` class (in `java.util`) is the simplest way to read formatted input (like integers, doubles, or single words) from the console.

  * **Mechanism:** It breaks the input into **tokens** using a delimiter (default is whitespace) and then parses the tokens into various primitive data types.
  * **Ease of Use:** It handles conversion for different data types automatically.

#### Key `Scanner` Methods

| Method | Description | Example Input | Returns |
| :--- | :--- | :--- | :--- |
| `nextInt()` | Reads the next token as an `int`. | `123` | `123` (int) |
| `nextDouble()` | Reads the next token as a `double`. | `3.14` | `3.14` (double) |
| `next()` | Reads the next token (a single word) as a `String`. | `Hello World` | `"Hello"` |
| `nextLine()` | Reads the **entire rest of the line** until the newline character is found. | `Hello World` | `"Hello World"` |
| `hasNext...()` | Checks if the next token is available and is of the expected type (e.g., `hasNextInt()`). | N/A | `boolean` |

#### Example: Using `Scanner`

```java
import java.util.Scanner;

public class ScannerDemo {
    public static void main(String[] args) {
        // Create Scanner object, linked to the standard input stream (System.in)
        Scanner scanner = new Scanner(System.in);
        
        System.out.print("Enter your name (one word): ");
        String name = scanner.next(); // Reads up to the next whitespace
        
        System.out.print("Enter your age: ");
        // Ensure you handle InputMismatchException here
        int age = scanner.nextInt(); 
        
        System.out.println("Hello, " + name + "! You are " + age + " years old.");
        
        // It's crucial to close the Scanner resource
        scanner.close();
    }
}
```

> ‚ö†Ô∏è **Scanner Pitfall:** When mixing `next()`, `nextInt()`, or `nextDouble()` with `nextLine()`, the token-reading methods may leave the newline character (`\n`) in the input buffer. The subsequent `nextLine()` reads this remaining `\n` immediately, appearing to skip input. The fix is often to add an extra `scanner.nextLine()` call to clear the buffer.

-----

### 2\. The `BufferedReader` Class (Traditional, Faster Line Input)

The **`BufferedReader`** class (in `java.io`) is a traditional and generally faster way to read input, particularly large amounts of text.

  * **Mechanism:** It reads input character by character or line by line from an underlying stream (`System.in`). It uses an internal buffer to minimize I/O operations, making it efficient.
  * **Drawback:** It **only reads Strings**. Manual parsing (e.g., using `Integer.parseInt()`) is required to convert the input into other data types.
  * **Requirement:** Since reading from streams can cause `IOException`, its usage requires exception handling or the `throws` keyword.

#### Example: Using `BufferedReader`

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.IOException;

public class BufferedReaderDemo {
    public static void main(String[] args) throws IOException {
        // Link the character stream (BufferedReader) to the byte stream (System.in)
        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));

        System.out.print("Enter a number: ");
        String inputLine = reader.readLine(); // Reads the whole line as a String

        // Manual conversion required for numeric types
        try {
            int number = Integer.parseInt(inputLine); 
            System.out.println("You entered: " + number);
        } catch (NumberFormatException e) {
            System.err.println("Invalid number format.");
        }
        
        // In modern Java, this resource should be used in try-with-resources.
        reader.close(); 
    }
}
```

### 3\. Alternative: The `Console` Class

The `java.io.Console` class provides methods specifically for reading input from the command line, especially for **password input** where you want the characters to be masked. It is generally preferred for secure console applications.

