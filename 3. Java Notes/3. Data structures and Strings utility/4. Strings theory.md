# üõ†Ô∏è Data Structures, Strings, and Utility

## 4\. String Basics and Immutability

The **`String`** class (in `java.lang`) is one of the most frequently used classes in Java. It represents an immutable sequence of characters.

### 1\. String Creation

There are two main ways to create a `String` object in Java:

#### A. Using String Literal (Recommended)

When you create a string using a literal (double quotes), the JVM first checks the **String Constant Pool (SCP)**, a special memory area within the Heap.

  * If the string already exists, the existing object reference is returned (saving memory).
  * If it doesn't exist, a new string object is created in the SCP.

<!-- end list -->

```java
String s1 = "Hello"; 
String s2 = "Hello"; 
// s1 and s2 refer to the same object in the SCP.
```

#### B. Using the `new` Keyword

Using the `new` keyword forces the creation of a new `String` object in the regular Heap memory, regardless of whether an identical string exists in the SCP.

```java
String s3 = new String("World"); 
String s4 = new String("World");
// s3 and s4 refer to two different objects in the Heap memory.
```

### 2\. String Immutability üîí

Strings in Java are **immutable**, meaning that once a `String` object is created, its **content cannot be changed**.

  * Any operation that appears to modify a string (like concatenation or replacing characters) actually creates and returns a **new `String` object**, leaving the original object unchanged in memory.
  * The reference variable simply points to the new object.

#### Example of Immutability

```java
String original = "Java";
System.out.println(original.hashCode()); // Example Hash: 2301506
original = original.concat(" Code"); 
// A new string object ("Java Code") is created.
// 'original' now points to the new object.
System.out.println(original.hashCode()); // Different Hash: 1234567

// The original "Java" object remains in memory until garbage collected.
```

### 3\. Comparison of Strings

The immutability concept affects how strings are compared:

| Comparison | Operator/Method | What It Checks |
| :--- | :--- | :--- |
| **Identity** | **`==`** | Checks if the two string **references** point to the exact same object in memory. |
| **Equality** | **`.equals()`** | Checks if the content (the sequence of characters) of the two strings is logically **equal**. |

```java
String a = "test";
String b = "test";
String c = new String("test");

System.out.println(a == b);      // true (Both refer to the single SCP object)
System.out.println(a == c);      // false (a is SCP, c is in Heap)
System.out.println(a.equals(c)); // true (Content is the same)
```

### 4\. Important String Methods

The `String` class provides numerous utility methods for character manipulation:

| Method | Description | Example | Result |
| :--- | :--- | :--- | :--- |
| `length()` | Returns the number of characters. | `"abc".length()` | `3` |
| `charAt(int index)` | Returns the char at the specified index. | `"Java".charAt(1)` | `'a'` |
| `indexOf(String s)`| Returns the index of the first occurrence of the substring. | `"coding".indexOf("ing")`| `3` |
| `substring(int start)` | Returns a substring from the start index to the end. | `"hello".substring(2)`| `"llo"` |
| `toUpperCase()` | Converts all characters to uppercase (returns a new String). | `"Hi".toUpperCase()` | `"HI"` |
| `trim()` | Returns a new string with leading and trailing whitespace removed. | `"  x  ".trim()` | `"x"` |

