# ðŸ’¡ Object-Oriented Programming (OOP)

## 14\. The `final` Keyword

The **`final` keyword** is a non-access modifier used to restrict or prevent something from being changed. Its meaning changes slightly depending on whether it is applied to a variable, a method, or a class.

| Applied To | Effect of `final` | Restriction |
| :--- | :--- | :--- |
| **Variable** | Becomes a **constant**. | Its **value** cannot be changed after initialization. |
| **Method** | Cannot be **overridden**. | Prevents subclasses from altering its implementation. |
| **Class** | Cannot be **inherited**. | Prevents other classes from extending it. |

### 1\. `final` Variable (Constants)

When a variable is declared as `final`, it becomes a **constant**. You must initialize it either at the time of declaration or within the class's constructor.

  * **Rule:** The value assigned to it can **never** be changed.

<!-- end list -->

```java
public class Constants {
    // 1. Final instance variable (must be initialized by the constructor or inline)
    final int ID; 
    
    // 2. Final static variable (a true global constant, naming convention: UPPER_CASE)
    public static final double PI_VALUE = 3.14159; 

    public Constants(int id) {
        this.ID = id; // Initialization in the constructor
    }

    public void updateId() {
        // ID = 101; // ERROR: Cannot assign a value to a final variable
    }
}
```

> ðŸ’¡ **Blank Final Variable:** A `final` variable that is not initialized at the time of declaration is called a blank final variable. It **must** be initialized in the constructor.

### 2\. `final` Method (Preventing Overriding)

When a method is declared as `final`, it cannot be **overridden** by any subclass.

  * **Purpose:** To ensure that the method's implementation (logic) remains consistent and unchanged across the inheritance hierarchy. This is often used for core logic that must not be tampered with.

<!-- end list -->

```java
class SuperBank {
    // Core logic for loan calculation should not be changed by subclasses
    public final double calculateInterest(double principal) { 
        return principal * 0.05; // Fixed 5% rate
    }
}

class SubBank extends SuperBank {
    /* // ERROR: Cannot override the final method from SuperBank
    @Override
    public double calculateInterest(double principal) { 
        return principal * 0.10; 
    }
    */
}
```

### 3\. `final` Class (Preventing Inheritance)

When a class is declared as `final`, it cannot be **inherited** (extended) by any other class.

  * **Purpose:** To prevent the entire class structure and its methods from being specialized or tampered with through inheritance. This is common for classes whose implementations are critical for security or core functionality.
  * **Example:** The built-in Java class **`String`** is a final class.

<!-- end list -->

```java
// Final class
public final class Configuration {
    // ... class content
}

/*
// ERROR: Cannot inherit from final class Configuration
class CustomConfig extends Configuration {
    // ...
}
*/
```

### 4\. `final` vs. `finally` vs. `finalize()`

It's common to confuse these three related, but distinct, keywords:

| Keyword | Type | Purpose |
| :--- | :--- | :--- |
| **`final`** | **Modifier** | Declares a constant variable, prevents method overriding, or prevents class inheritance. |
| **`finally`** | **Block** | A code block used with `try-catch` that is guaranteed to execute, regardless of whether an exception occurred or not. |
| **`finalize()`** | **Method** | A method in the `Object` class, called by the Garbage Collector just before an object is destroyed. (Note: Its use is generally discouraged in modern Java). |

