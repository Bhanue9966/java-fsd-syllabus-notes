## ðŸ”‘ Database Keys

Keys are fundamental components of the relational model. They are attributes or sets of attributes that are used to uniquely identify records (tuples) within a table and establish relationships between different tables. They are essential for enforcing **data integrity**.

-----

### 1\. Superkey

A **Superkey** is any set of one or more attributes that, taken collectively, can uniquely identify a tuple (row) in a table.

  * **Principle:** A superkey must contain enough attributes to guarantee uniqueness.
  * **Example:** In an `Employees` table with columns (`EmployeeID`, `SSN`, `FirstName`, `LastName`), the following could all be Superkeys:
      * (`EmployeeID`)
      * (`SSN`)
      * (`EmployeeID`, `FirstName`)
      * (`EmployeeID`, `SSN`, `LastName`)
  * **Property:** Any superset of a Superkey is also a Superkey.

-----

### 2\. Candidate Key

A **Candidate Key** is a Superkey for which no proper subset of its attributes is also a Superkey. In simple terms, it is the minimal set of attributes that can uniquely identify a row.

  * **Principle:** It is a minimal Superkey. Removing any single attribute from a Candidate Key will result in a set that no longer guarantees unique identification.
  * **Example:** If (`EmployeeID`) and (`SSN`) are both Superkeys, and neither can be reduced further, then both are Candidate Keys.
      * `EmployeeID` (Minimal)
      * `SSN` (Minimal)
      * (`EmployeeID`, `FirstName`) is **not** a Candidate Key because it can be reduced to the Superkey (`EmployeeID`).

-----

### 3\. Primary Key

The **Primary Key (PK)** is the Candidate Key that is chosen by the database designer to uniquely identify each row in a table.

  * **Principle:** There can be only **one** Primary Key per table.
  * **Constraints:**
    1.  **Unique Constraint:** No two rows can have the same Primary Key value.
    2.  **NOT NULL Constraint:** The Primary Key attribute(s) cannot contain `NULL` values.
  * **Role:** It is the main identifier used to establish relationships with other tables.

-----

### 4\. Alternate Key

An **Alternate Key** is any Candidate Key that was **not** selected to be the Primary Key.

  * **Principle:** These keys also guarantee uniqueness and could have been the Primary Key, but were passed over in favor of the chosen PK.
  * **Example:** If `EmployeeID` is chosen as the Primary Key, then `SSN` (the other Candidate Key) becomes an Alternate Key. Alternate Keys often have a `UNIQUE` index applied to them.

-----

### 5\. Foreign Key

A **Foreign Key (FK)** is a set of attributes in one table (the **referencing** table, or child table) that refers to the Primary Key or a unique Candidate Key in another table (the **referenced** table, or parent table).

  * **Role:** Establishes and enforces the link between two tables, ensuring referential integrity.
  * **Referential Integrity:** Ensures that values in the Foreign Key column of the child table must either match a value in the referenced Primary Key column of the parent table, or be `NULL` (if not defined as NOT NULL).

#### Example

| Table | Column | Role |
| :--- | :--- | :--- |
| **`Departments`** (Parent) | `DeptID` | Primary Key |
| **`Employees`** (Child) | `DeptID` | Foreign Key (references `Departments.DeptID`) |

```sql
-- SQL definition for a Foreign Key
ALTER TABLE Employees
ADD CONSTRAINT fk_emp_dept
FOREIGN KEY (DeptID)
REFERENCES Departments (DeptID);
```

-----

### 6\. Composite Key

A **Composite Key** (or Compound Key) is a key that consists of **two or more attributes** to uniquely identify a record.

  * **Principle:** When a single column is not sufficient to guarantee uniqueness, multiple columns are grouped together.
  * **Use Case:** Often used in junction tables (for many-to-many relationships) or when the natural primary key requires multiple parts.

#### Example: `OrderDetails` Table (Junction Table)

In a table tracking items in an order, neither `OrderID` nor `ProductID` is unique on its own.

| Table | Key | Attributes |
| :--- | :--- | :--- |
| `OrderDetails` | Composite Primary Key | (`OrderID`, `ProductID`) |

The combination of both is required to uniquely identify a single line item within a specific order.

```
```